{
  "swagger" : "2.0",
  "info" : {
    "description" : "This is a Home Service server.  You can find \nout more about us at api.services.com.br\n",
    "version" : "v1",
    "title" : "Home Services API",
    "contact" : {
      "email" : "apiteam@swagger.io"
    },
    "license" : {
      "name" : "Apache 2.0",
      "url" : "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "host" : "virtserver.swaggerhub.com",
  "basePath" : "/api.services.com.br/v1",
  "tags" : [ {
    "name" : "admins",
    "description" : "Secured Admin-only calls"
  }, {
    "name" : "developers",
    "description" : "Operations available to regular developers"
  }, {
    "name" : "services",
    "description" : "Everything about your Services"
  } ],
  "schemes" : [ "https" ],
  "paths" : {
    "/categories" : {
      "get" : {
        "tags" : [ "categories" ],
        "summary" : "Find all categories",
        "description" : "Returns all categories",
        "operationId" : "getCategories",
        "produces" : [ "application/json" ],
        "parameters" : [ ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Category"
              }
            }
          },
          "204" : {
            "description" : "No content"
          }
        }
      },
      "post" : {
        "tags" : [ "categories" ],
        "summary" : "Add a new category",
        "operationId" : "addCategory",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "category object that needs to be added",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Category"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "405" : {
            "description" : "Invalid input"
          }
        }
      }
    },
    "/categories/{categoryId}" : {
      "get" : {
        "tags" : [ "categories" ],
        "summary" : "Find category by ID",
        "description" : "Returns a single category",
        "operationId" : "getCategoryById",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "ID of category to return",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Category"
            }
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Category not found"
          }
        }
      },
      "put" : {
        "tags" : [ "categories" ],
        "summary" : "Update an existing category",
        "operationId" : "updateCategory",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Category id to update",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Category object that needs to be updated",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Category"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Category not found"
          },
          "405" : {
            "description" : "Validation exception"
          }
        }
      },
      "delete" : {
        "tags" : [ "categories" ],
        "summary" : "Deletes a category",
        "operationId" : "deleteCategory",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Service id to delete",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "204" : {
            "description" : "Content deleted"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Service not found"
          }
        }
      }
    },
    "/categories/{categoryId}/services" : {
      "get" : {
        "tags" : [ "services" ],
        "summary" : "Find all services from a category",
        "description" : "Returns all Services from especific category",
        "operationId" : "getServices",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Service Category id",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Service"
              }
            }
          },
          "204" : {
            "description" : "No content"
          }
        }
      },
      "post" : {
        "tags" : [ "services" ],
        "summary" : "Add a new service",
        "operationId" : "addService",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Service Category id",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Service object that needs to be added to the Category",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Service"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "405" : {
            "description" : "Invalid input"
          }
        }
      }
    },
    "/categories/{categoryId}/services/{serviceId}" : {
      "get" : {
        "tags" : [ "services" ],
        "summary" : "Returns a service from a category",
        "description" : "Returns a single services",
        "operationId" : "getServiceById",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Service Category id",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "name" : "serviceId",
          "in" : "path",
          "description" : "Service id to return",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "$ref" : "#/definitions/Service"
            }
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Category not found"
          }
        }
      },
      "put" : {
        "tags" : [ "services" ],
        "summary" : "Update an existing service",
        "operationId" : "updateService",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Service Category id",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "name" : "serviceId",
          "in" : "path",
          "description" : "Service id to update",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Service object that needs to be added",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Service"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Service not found"
          },
          "405" : {
            "description" : "Validation exception"
          }
        }
      },
      "delete" : {
        "tags" : [ "services" ],
        "summary" : "Deletes a service",
        "operationId" : "deleteService",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "categoryId",
          "in" : "path",
          "description" : "Service Category id",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "name" : "serviceId",
          "in" : "path",
          "description" : "Service id to delete",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "204" : {
            "description" : "Content deleted"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Service not found"
          }
        }
      }
    },
    "/employees" : {
      "get" : {
        "tags" : [ "employees" ],
        "summary" : "Find all employess",
        "description" : "Returns all employess",
        "operationId" : "getEmployee",
        "produces" : [ "application/json" ],
        "parameters" : [ ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Employee"
              }
            }
          },
          "204" : {
            "description" : "No content"
          }
        }
      },
      "post" : {
        "tags" : [ "employees" ],
        "summary" : "Add a new employee",
        "operationId" : "addEmployee",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "employee object that needs to be added",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Employee"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "405" : {
            "description" : "Invalid input"
          }
        }
      }
    },
    "/employees/{employeeId}" : {
      "get" : {
        "tags" : [ "employees" ],
        "summary" : "Find employee by ID",
        "description" : "Returns a employee",
        "operationId" : "getEmployeeById",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "employeeId",
          "in" : "path",
          "description" : "ID of employee to return",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "$ref" : "#/definitions/Employee"
            }
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Employee not found"
          }
        }
      },
      "put" : {
        "tags" : [ "employees" ],
        "summary" : "Update an existing employee",
        "operationId" : "updateEmployee",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "employeeId",
          "in" : "path",
          "description" : "Employee id to update",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Employee object that needs to be updated",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Service"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Employee not found"
          },
          "405" : {
            "description" : "Validation exception"
          }
        }
      },
      "delete" : {
        "tags" : [ "employees" ],
        "summary" : "Deletes a employee",
        "operationId" : "deleteEmployee",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "employeeId",
          "in" : "path",
          "description" : "Employee id to delete",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "204" : {
            "description" : "Content deleted"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Service not found"
          }
        }
      }
    },
    "/employees/search" : {
      "get" : {
        "tags" : [ "employees" ],
        "summary" : "Find employess by filters",
        "description" : "Returns employess by filters",
        "produces" : [ "application/json" ],
        "parameters" : [ ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Employee"
              }
            }
          },
          "204" : {
            "description" : "No content"
          }
        }
      }
    },
    "/customers" : {
      "get" : {
        "tags" : [ "customers" ],
        "summary" : "Find all customers",
        "description" : "Returns all customers",
        "operationId" : "getCustomer",
        "produces" : [ "application/json" ],
        "parameters" : [ ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Customer"
              }
            }
          },
          "204" : {
            "description" : "No content"
          }
        }
      },
      "post" : {
        "tags" : [ "customers" ],
        "summary" : "Add a new customer",
        "operationId" : "addCustomer",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "customer object that needs to be added",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Customer"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "405" : {
            "description" : "Invalid input"
          }
        }
      }
    },
    "/customers/{customerId}" : {
      "get" : {
        "tags" : [ "customers" ],
        "summary" : "Find customer by ID",
        "description" : "Returns a single customer",
        "operationId" : "getCustomerById",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "customerId",
          "in" : "path",
          "description" : "ID of customer to return",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Customer"
            }
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Customer not found"
          }
        }
      },
      "put" : {
        "tags" : [ "customers" ],
        "summary" : "Update an existing customer",
        "operationId" : "updateCustomer",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "customerId",
          "in" : "path",
          "description" : "Customer id to update",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Customer object that needs to be updated",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Customer"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Customer not found"
          },
          "405" : {
            "description" : "Validation exception"
          }
        }
      },
      "delete" : {
        "tags" : [ "customers" ],
        "summary" : "Deletes a customer",
        "operationId" : "deleteCustomer",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "customerId",
          "in" : "path",
          "description" : "Service id to delete",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "204" : {
            "description" : "Content deleted"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Service not found"
          }
        }
      }
    },
    "/users/{userId}" : {
      "patch" : {
        "tags" : [ "users" ],
        "summary" : "Update a status of user",
        "operationId" : "updateUserStatus",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "userId",
          "in" : "path",
          "description" : "User id to update",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "name" : "userStatus",
          "in" : "query",
          "description" : "a new value to user status",
          "required" : false,
          "type" : "boolean"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Employee object that needs to be uploaded",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/User"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Employee not found"
          },
          "405" : {
            "description" : "Validation exception"
          }
        }
      }
    },
    "/jobs" : {
      "post" : {
        "tags" : [ "jobs" ],
        "summary" : "Add a new job",
        "operationId" : "addJob",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "job object that needs to be added",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Job"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "405" : {
            "description" : "Invalid input"
          }
        }
      }
    },
    "/jobs/employee/{employeeId}" : {
      "get" : {
        "tags" : [ "jobs" ],
        "summary" : "Find job by employee ID",
        "description" : "Returns a job of the employee",
        "operationId" : "getJobByEmployeeId",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "employeeId",
          "in" : "path",
          "description" : "ID of employee to return the jobs",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Job"
              }
            }
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Employee not found"
          }
        }
      }
    },
    "/jobs/customer/{customerId}" : {
      "get" : {
        "tags" : [ "jobs" ],
        "summary" : "Find job by employee ID",
        "description" : "Returns a job of the employee",
        "operationId" : "getJobByCustomerId",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "customerId",
          "in" : "path",
          "description" : "ID of employee to return the jobs",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Job"
              }
            }
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Employee not found"
          }
        }
      }
    },
    "/jobs/{jobId}" : {
      "patch" : {
        "tags" : [ "jobs" ],
        "summary" : "Update a status of employee",
        "operationId" : "updateJobStatus",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "jobId",
          "in" : "path",
          "description" : "Employee id to update",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        }, {
          "name" : "status",
          "in" : "query",
          "required" : false,
          "type" : "string",
          "enum" : [ "Requested", "Confirmed", "Executing", "Finished", "Canceled" ]
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Job object that needs to be uploaded",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Job"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation"
          },
          "400" : {
            "description" : "Invalid ID supplied"
          },
          "404" : {
            "description" : "Employee not found"
          },
          "405" : {
            "description" : "Validation exception"
          }
        }
      }
    },
    "/payments" : {
      "post" : {
        "tags" : [ "payments" ],
        "summary" : "Add a new payment",
        "operationId" : "addPayment",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "job object that needs to be added",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Payment"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Created"
          },
          "405" : {
            "description" : "Invalid input"
          }
        }
      }
    }
  },
  "definitions" : {
    "Category" : {
      "type" : "object",
      "properties" : {
        "idCategory" : {
          "type" : "integer",
          "format" : "int64"
        },
        "nameCategory" : {
          "type" : "string"
        }
      }
    },
    "Service" : {
      "type" : "object",
      "properties" : {
        "idService" : {
          "type" : "integer",
          "format" : "int64"
        },
        "nameService" : {
          "type" : "string",
          "example" : "Windows Washing"
        },
        "category" : {
          "$ref" : "#/definitions/Category"
        }
      }
    },
    "User" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "integer",
          "format" : "int64"
        },
        "username" : {
          "type" : "string"
        },
        "firstName" : {
          "type" : "string"
        },
        "lastName" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        },
        "password" : {
          "type" : "string"
        },
        "phone" : {
          "type" : "string"
        },
        "city" : {
          "type" : "string"
        },
        "userStatus" : {
          "type" : "boolean",
          "description" : "if user is checked"
        }
      }
    },
    "Customer" : {
      "type" : "object",
      "properties" : {
        "user" : {
          "$ref" : "#/definitions/User"
        },
        "pix" : {
          "type" : "string"
        }
      }
    },
    "Employee" : {
      "type" : "object",
      "properties" : {
        "user" : {
          "$ref" : "#/definitions/User"
        },
        "services" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "allOf" : [ {
              "$ref" : "#/definitions/Service"
            }, {
              "type" : "object",
              "properties" : {
                "serviceValue" : {
                  "type" : "number",
                  "format" : "double"
                }
              }
            }, {
              "type" : "object",
              "properties" : {
                "serviceTime" : {
                  "type" : "integer",
                  "format" : "int32",
                  "description" : "Service time in minutes"
                }
              }
            } ]
          }
        },
        "available" : {
          "type" : "boolean"
        }
      }
    },
    "Job" : {
      "type" : "object",
      "properties" : {
        "customer" : {
          "$ref" : "#/definitions/Customer"
        },
        "employee" : {
          "$ref" : "#/definitions/Employee"
        },
        "service" : {
          "$ref" : "#/definitions/Service"
        },
        "rate" : {
          "type" : "integer",
          "format" : "int32",
          "description" : "Customer rates the job"
        },
        "status" : {
          "type" : "string",
          "enum" : [ "Requested", "Confirmed", "Executing", "Finished", "Canceled" ]
        }
      }
    },
    "Balance" : {
      "type" : "object",
      "properties" : {
        "customer" : {
          "$ref" : "#/definitions/Customer"
        },
        "cash" : {
          "type" : "number",
          "format" : "double",
          "description" : "Customer cash balance"
        }
      }
    },
    "Payment" : {
      "type" : "object",
      "properties" : {
        "customer" : {
          "$ref" : "#/definitions/Customer"
        },
        "job" : {
          "$ref" : "#/definitions/Job"
        },
        "valuePaid" : {
          "type" : "number",
          "format" : "double",
          "description" : "Amount paid for the job"
        },
        "idPagSeguro" : {
          "type" : "string"
        }
      }
    }
  }
}